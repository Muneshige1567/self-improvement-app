# 30機能要件一覧

## 概要

本研修で実装する販売管理システムの30機能一覧です。
各機能の詳細要件は `docs/03_requirement/` 配下に格納されます。

## ドメイン構成

```
販売管理システム
├── 顧客管理（6機能）  → DAY1
├── 商品管理（6機能）  → DAY2
├── 受注管理（5機能）  → DAY2
├── 在庫管理（5機能）  → DAY2
├── 請求管理（4機能）  → DAY2-3
└── レポート（4機能）  → DAY3
```

---

## DAY 1：顧客管理（6機能）

### 1. 顧客一覧

| 項目 | 内容 |
|------|------|
| 機能ID | CUS-001 |
| 画面 | `/customers` |
| API | `GET /api/customers` |
| 概要 | 登録済み顧客の一覧を表示する |

**表示項目**: 顧客ID、顧客名、電話番号、メールアドレス、登録日

### 2. 顧客詳細

| 項目 | 内容 |
|------|------|
| 機能ID | CUS-002 |
| 画面 | `/customers/:id` |
| API | `GET /api/customers/:id` |
| 概要 | 顧客の詳細情報を表示する |

**表示項目**: 基本情報 + 住所、備考、受注履歴

### 3. 顧客登録

| 項目 | 内容 |
|------|------|
| 機能ID | CUS-003 |
| 画面 | `/customers/new` |
| API | `POST /api/customers` |
| 概要 | 新規顧客を登録する |

**入力項目**: 顧客名（必須）、電話番号、メールアドレス、住所、備考

### 4. 顧客更新

| 項目 | 内容 |
|------|------|
| 機能ID | CUS-004 |
| 画面 | `/customers/:id/edit` |
| API | `PUT /api/customers/:id` |
| 概要 | 顧客情報を更新する |

### 5. 顧客削除

| 項目 | 内容 |
|------|------|
| 機能ID | CUS-005 |
| 画面 | `/customers/:id`（モーダル） |
| API | `DELETE /api/customers/:id` |
| 概要 | 顧客を削除する（論理削除） |

**制約**: 受注履歴がある場合は削除不可

### 6. 顧客検索

| 項目 | 内容 |
|------|------|
| 機能ID | CUS-006 |
| 画面 | `/customers`（検索フォーム） |
| API | `GET /api/customers?q=xxx` |
| 概要 | 顧客を検索する |

**検索対象**: 顧客名、電話番号、メールアドレス

---

## DAY 2：商品管理（6機能）

### 7. 商品一覧

| 項目 | 内容 |
|------|------|
| 機能ID | PRD-001 |
| 画面 | `/products` |
| API | `GET /api/products` |
| 概要 | 登録済み商品の一覧を表示する |

**表示項目**: 商品ID、商品名、カテゴリ、単価、在庫数

### 8. 商品詳細

| 項目 | 内容 |
|------|------|
| 機能ID | PRD-002 |
| 画面 | `/products/:id` |
| API | `GET /api/products/:id` |
| 概要 | 商品の詳細情報を表示する |

### 9. 商品登録

| 項目 | 内容 |
|------|------|
| 機能ID | PRD-003 |
| 画面 | `/products/new` |
| API | `POST /api/products` |
| 概要 | 新規商品を登録する |

**入力項目**: 商品名（必須）、カテゴリ（必須）、単価（必須）、説明

### 10. 商品更新

| 項目 | 内容 |
|------|------|
| 機能ID | PRD-004 |
| 画面 | `/products/:id/edit` |
| API | `PUT /api/products/:id` |
| 概要 | 商品情報を更新する |

### 11. 商品削除

| 項目 | 内容 |
|------|------|
| 機能ID | PRD-005 |
| 画面 | `/products/:id`（モーダル） |
| API | `DELETE /api/products/:id` |
| 概要 | 商品を削除する（論理削除） |

**制約**: 在庫がある場合は削除不可

### 12. カテゴリ管理

| 項目 | 内容 |
|------|------|
| 機能ID | PRD-006 |
| 画面 | `/products/categories` |
| API | `GET/POST/PUT/DELETE /api/categories` |
| 概要 | 商品カテゴリのCRUD |

---

## DAY 2：受注管理（5機能）

### 13. 受注一覧

| 項目 | 内容 |
|------|------|
| 機能ID | ORD-001 |
| 画面 | `/orders` |
| API | `GET /api/orders` |
| 概要 | 受注一覧を表示する |

**表示項目**: 受注ID、顧客名、受注日、合計金額、ステータス

### 14. 受注詳細

| 項目 | 内容 |
|------|------|
| 機能ID | ORD-002 |
| 画面 | `/orders/:id` |
| API | `GET /api/orders/:id` |
| 概要 | 受注の詳細情報を表示する |

**表示項目**: 受注情報 + 明細（商品、数量、単価、小計）

### 15. 受注登録

| 項目 | 内容 |
|------|------|
| 機能ID | ORD-003 |
| 画面 | `/orders/new` |
| API | `POST /api/orders` |
| 概要 | 新規受注を登録する |

**入力項目**: 顧客（必須）、明細（商品、数量）、備考

**処理**: 在庫の引き当て

### 16. ステータス変更

| 項目 | 内容 |
|------|------|
| 機能ID | ORD-004 |
| 画面 | `/orders/:id`（ボタン） |
| API | `PATCH /api/orders/:id/status` |
| 概要 | 受注ステータスを変更する |

**ステータス遷移**: 受付 → 処理中 → 出荷済 → 完了

### 17. 受注キャンセル

| 項目 | 内容 |
|------|------|
| 機能ID | ORD-005 |
| 画面 | `/orders/:id`（ボタン） |
| API | `PATCH /api/orders/:id/cancel` |
| 概要 | 受注をキャンセルする |

**処理**: 在庫の戻し

---

## DAY 2：在庫管理（5機能）

### 18. 在庫一覧

| 項目 | 内容 |
|------|------|
| 機能ID | INV-001 |
| 画面 | `/inventory` |
| API | `GET /api/inventory` |
| 概要 | 在庫一覧を表示する |

**表示項目**: 商品名、現在庫数、引当数、有効在庫数、アラート状態

### 19. 入庫処理

| 項目 | 内容 |
|------|------|
| 機能ID | INV-002 |
| 画面 | `/inventory/receive` |
| API | `POST /api/inventory/receive` |
| 概要 | 入庫を登録する |

**入力項目**: 商品、数量、入庫日、備考

### 20. 出庫処理

| 項目 | 内容 |
|------|------|
| 機能ID | INV-003 |
| 画面 | `/inventory/ship` |
| API | `POST /api/inventory/ship` |
| 概要 | 出庫を登録する |

**入力項目**: 商品、数量、出庫日、備考

### 21. 棚卸

| 項目 | 内容 |
|------|------|
| 機能ID | INV-004 |
| 画面 | `/inventory/count` |
| API | `POST /api/inventory/count` |
| 概要 | 棚卸を実施し、在庫数を調整する |

### 22. アラート設定

| 項目 | 内容 |
|------|------|
| 機能ID | INV-005 |
| 画面 | `/inventory/alerts` |
| API | `PUT /api/inventory/:id/alert` |
| 概要 | 在庫アラートの閾値を設定する |

---

## DAY 2-3：請求管理（4機能）

### 23. 請求一覧

| 項目 | 内容 |
|------|------|
| 機能ID | BIL-001 |
| 画面 | `/billings` |
| API | `GET /api/billings` |
| 概要 | 請求一覧を表示する |

**表示項目**: 請求ID、顧客名、請求日、請求金額、入金状況

### 24. 請求詳細

| 項目 | 内容 |
|------|------|
| 機能ID | BIL-002 |
| 画面 | `/billings/:id` |
| API | `GET /api/billings/:id` |
| 概要 | 請求の詳細情報を表示する |

### 25. 請求書発行（DAY3）

| 項目 | 内容 |
|------|------|
| 機能ID | BIL-003 |
| 画面 | `/billings/issue` |
| API | `POST /api/billings` |
| 概要 | 請求書を発行する |

**入力項目**: 顧客、対象受注、請求日

### 26. 入金消込（DAY3）

| 項目 | 内容 |
|------|------|
| 機能ID | BIL-004 |
| 画面 | `/billings/:id/payment` |
| API | `POST /api/billings/:id/payment` |
| 概要 | 入金を消込む |

**入力項目**: 入金日、入金額

---

## DAY 3：レポート（4機能）

### 27. 売上集計

| 項目 | 内容 |
|------|------|
| 機能ID | RPT-001 |
| 画面 | `/reports/sales` |
| API | `GET /api/reports/sales` |
| 概要 | 期間別・商品別の売上を集計する |

**フィルタ**: 期間、商品カテゴリ

### 28. 在庫推移

| 項目 | 内容 |
|------|------|
| 機能ID | RPT-002 |
| 画面 | `/reports/inventory` |
| API | `GET /api/reports/inventory` |
| 概要 | 在庫の推移をグラフ表示する |

### 29. 顧客分析

| 項目 | 内容 |
|------|------|
| 機能ID | RPT-003 |
| 画面 | `/reports/customers` |
| API | `GET /api/reports/customers` |
| 概要 | 顧客別の売上ランキングを表示する |

### 30. ダッシュボード

| 項目 | 内容 |
|------|------|
| 機能ID | RPT-004 |
| 画面 | `/dashboard` |
| API | `GET /api/dashboard` |
| 概要 | 主要KPIを一覧表示する |

**表示項目**: 本日の受注数、売上、在庫アラート、未入金請求

---

## 補足

各機能の詳細な要件定義は `docs/03_requirement/` に以下の形式で格納されます：

```
docs/03_requirement/
├── CUS-001_顧客一覧.md
├── CUS-002_顧客詳細.md
├── ...
└── RPT-004_ダッシュボード.md
```
